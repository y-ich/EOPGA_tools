import unittest
from winrates import parse_comment, process


class TestWinrates(unittest.TestCase):
    def test_parse_comment(self):
        self.assertEqual(parse_comment("0.492\n7641"), (0.492, 7641))

    def test_process(self):
        self.assertEqual(process("../gogod_commentary/2013/2013-10-15o.sgf"), '"../gogod_commentary/2013/2013-10-15o.sgf","2013-10-15","Zhang Yuhan","Pak Chong-ming","W+1.25",0.491,0.493,0.488,0.513,0.472,0.507,0.443,0.511,0.446,0.539,0.377,0.608,0.46,0.639,0.444,0.652,0.52,0.69,0.498,0.522,0.514,0.632,0.394,0.619,0.428,0.612,0.371,0.386,0.303,0.438,0.434,0.434,0.145,0.146,0.144,0.19,0.174,0.182,0.196,0.206,0.153,0.162,0.164,0.164,0.165,0.181,0.09,0.119,0.115,0.13,0.125,0.149,0.117,0.122,0.096,0.111,0.102,0.151,0.088,0.094,0.076,0.079,0.077,0.077,0.076,0.124,0.122,0.132,0.124,0.144,0.142,0.154,0.15,0.167,0.167,0.17,0.143,0.153,0.155,0.16,0.149,0.161,0.086,0.109,0.074,0.172,0.12,0.13,0.122,0.12,0.116,0.122,0.055,0.054,0.043,0.046,0.046,0.047,0.047,0.09,0.064,0.071,0.058,0.059,0.059,0.061,0.06,0.076,0.056,0.061,0.062,0.062,0.059,0.058,0.056,0.064,0.061,0.06,0.059,0.058,0.054,0.075,0.074,0.086,0.066,0.139,0.14,0.143,0.143,0.142,0.087,0.109,0.064,0.128,0.115,0.154,0.155,0.157,0.047,0.067,0.034,0.153,0.023,0.044,0.042,0.093,0.089,0.089,0.051,0.053,0.06,0.067,0.043,0.047,0.038,0.042,0.039,0.039,0.038,0.042,0.041,0.054,0.039,0.04,0.04,0.04,0.03,0.035,0.036,0.04,0.029,0.038,0.023,0.029,0.025,0.03,0.017,0.021,0.017,0.022,0.014,0.018,0.015,0.019,0.018,0.019,0.017,0.016,0.016,0.018,0.013,0.013,0.013,0.014,0.01,0.021,0.017,0.021,0.019,0.021,0.011,0.011,0.009,0.01,0.009,0.009,0.008,0.01,0.009,0.008,0.008,0.009,0.008,0.01,0.009,0.009,0.008,0.008,0.007,0.007,0.007,0.007,0.007,0.009,0.006,0.01,0.009,0.012,0.009,0.008,0.006,0.007,0.006,0.007,0.007,0.007,0.007,0.007,0.007,0.007,0.007,0.008,0.007,0.008,0.007,0.008,0.006,0.005,0.005,0.006,0.005,0.005,0.004,0.003,0.004,0.003,0.004,0.003,0.003,0.004,0.003,0.009,0.003,0.008,0.003,0.009,0.003,0.009,0.003,0.005')

if __name__ == '__main__':
    unittest.main()